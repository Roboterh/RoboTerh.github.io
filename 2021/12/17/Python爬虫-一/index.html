<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="RoboTerh"><meta name="copyright" content="RoboTerh"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Python爬虫(一) | RoboTerh</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"roboterh.github.io","root":"/","title":["ROBO","TERH","BLOG","小站"],"version":"1.7.0","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><script>CONFIG.leancloudVisitors = {"enable":true,"app_id":"QzEMTRDcJM476WmFbFsyqtOV-MdYXbMMI","app_key":"Ovrs8D1mvkchhDyViQ6oVoQq","server_url":"https://roboterh.github.io"}</script><script defer src="/js/analytics/leancloud-visitors.js"></script><meta name="description" content="参考：《PYTHON网络爬虫从入门到实践》 bs4库的使用 功能  用来解析爬到的html标签 初始化from bs4 import BeautifulSoup  soup &#x3D; BeautifulSoup(&quot;&lt;html&gt;A html text&lt;&#x2F;html&gt;&quot;, &quot;html.parser&quot;) print(soup.prettify()) #将初始化的soup美化   第一个参数是带解析的">
<meta property="og:type" content="article">
<meta property="og:title" content="Python爬虫(一)">
<meta property="og:url" content="https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/index.html">
<meta property="og:site_name" content="RoboTerh">
<meta property="og:description" content="参考：《PYTHON网络爬虫从入门到实践》 bs4库的使用 功能  用来解析爬到的html标签 初始化from bs4 import BeautifulSoup  soup &#x3D; BeautifulSoup(&quot;&lt;html&gt;A html text&lt;&#x2F;html&gt;&quot;, &quot;html.parser&quot;) print(soup.prettify()) #将初始化的soup美化   第一个参数是带解析的">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/image-20211219132041240.png">
<meta property="og:image" content="https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/image-20211219141237738.png">
<meta property="og:image" content="https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/image-20211219145914949.png">
<meta property="article:published_time" content="2021-12-17T06:55:58.000Z">
<meta property="article:modified_time" content="2021-12-19T14:16:31.843Z">
<meta property="article:author" content="RoboTerh">
<meta property="article:tag" content="python">
<meta property="article:tag" content="python爬虫">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/image-20211219132041240.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="RoboTerh"><img width="96" loading="lazy" src="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/8@XK~G6IIG(3~I6J~C6M4JB.png" alt="RoboTerh"><span class="site-author-status" title="wwww我好菜">-_-</span></a><div class="site-author-name"><a href="/about/">RoboTerh</a></div><span class="site-name">RoboTerh</span><sub class="site-subtitle"></sub><div class="site-desciption">无聊的时候记录记录自己的学习啊</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">27</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">17</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/F0A770ED0C75BC233DA1034B4C80E8DA.png" title="QQ" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2865153524@qq.com" title="E-Mail" target="_blank" style="color:8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#bs4%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">bs4库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.1.</span> <span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text">对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%96%87%E6%A1%A3%E6%A0%91"><span class="toc-number">1.3.</span> <span class="toc-text">遍历文档树</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">子节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%88%B6%E8%8A%82%E7%82%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">父节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="toc-number">1.3.3.</span> <span class="toc-text">兄弟节点</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%96%87%E6%A1%A3%E6%A0%91"><span class="toc-number">1.4.</span> <span class="toc-text">搜索文档树</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A5%E6%BA%90"><span class="toc-number">1.5.</span> <span class="toc-text">来源</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.</span> <span class="toc-text">提取需要的数据</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%88%AC%E5%8F%96%E8%B1%86%E7%93%A3top250"><span class="toc-number">2.1.</span> <span class="toc-text">爬取豆瓣top250</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%88%AC%E5%8F%96%E5%8A%A8%E6%80%81%E7%BD%91%E7%AB%99"><span class="toc-number">3.</span> <span class="toc-text">爬取动态网站</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E7%9C%9F%E5%AE%9E%E5%9C%B0%E5%9D%80"><span class="toc-number">3.1.</span> <span class="toc-text">解析真实地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87Selenium%E6%A8%A1%E6%8B%9F%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8A%93%E5%8F%96"><span class="toc-number">3.2.</span> <span class="toc-text">通过Selenium模拟浏览器抓取</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#selenium%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">selenium库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.1.</span> <span class="toc-text">元素定位</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEID%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.1.1.</span> <span class="toc-text">根据ID定位</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEname%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.1.2.</span> <span class="toc-text">根据name定位</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%94%A8%E9%93%BE%E6%8E%A5%E6%96%87%E6%9C%AC%E5%AE%9A%E4%BD%8D%E8%B6%85%E9%93%BE%E6%8E%A5"><span class="toc-number">4.1.3.</span> <span class="toc-text">用链接文本定位超链接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%90%8D%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.1.4.</span> <span class="toc-text">标签名定位</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#class%E5%90%8D%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.1.5.</span> <span class="toc-text">class名定位</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#css%E5%AE%9A%E4%BD%8D"><span class="toc-number">4.1.6.</span> <span class="toc-text">css定位</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AD%89%E5%BE%85%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.2.</span> <span class="toc-text">等待事件</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%98%BE%E7%A4%BAwaits"><span class="toc-number">4.2.1.</span> <span class="toc-text">显示waits</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9A%90%E5%BC%8Fwaits"><span class="toc-number">4.2.2.</span> <span class="toc-text">隐式waits</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%8C%E4%B8%BA%E9%93%BE"><span class="toc-number">4.3.</span> <span class="toc-text">行为链</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AD%A6%E5%91%8A%E6%A1%86"><span class="toc-number">4.4.</span> <span class="toc-text">警告框</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://RoboTerh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="RoboTerh"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="RoboTerh"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python爬虫(一)</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-12-17 14:55:58" itemprop="dateCreated datePublished" datetime="2021-12-17T14:55:58+08:00">2021-12-17</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2021-12-19 22:16:31" itemprop="dateModified" datetime="2021-12-19T22:16:31+08:00">2021-12-19</time></div><span class="leancloud_visitors" id="/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/" data-flag-title="Python爬虫(一)"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Views"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/language/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">language</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/python/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">python</span></a><a class="tag-item" href="/tags/python%E7%88%AC%E8%99%AB/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">python爬虫</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>参考：《PYTHON网络爬虫从入门到实践》</p>
<h4 id="bs4库的使用"><a href="#bs4库的使用" class="headerlink" title="bs4库的使用"></a>bs4库的使用</h4><ul>
<li>功能</li>
</ul>
<p>用来解析爬到的html标签</p>
<h5 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#将初始化的soup美化</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>第一个参数是带解析的<code>html</code>，第二个参数是解析器，自带<code>html.parser</code></p>
<p>其他解析器：</p>
<p>lxml HTML解析器     –&gt;   BeautifulSoup(xx, “lxml”)</p>
<p>lxml XML解析器    –&gt;    BeautifulSoup(xx, “xml”)</p>
<p>html5lib解析器  –&gt;  BeautifulSoup(xx, “html5lib”)</p>
</blockquote>
<h5 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h5><ul>
<li>tag</li>
</ul>
<p>tag对象和<code>xml</code>和<code>html</code>中的tag基本相同</p>
<p>如果tag存在：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'bs4.element.Tag'></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果不存在就会返回none:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>aa
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#&lt;class 'NoneType'></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果有多个返回第一个</p>
<ul>
<li>name</li>
</ul>
<p>每个对象都有自己的名字，通过<code>soup.name</code>获得</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">#html</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>Attributes</li>
</ul>
<p>一个<code>tag</code>可能有很多的属性，例如<code>&lt;c class=&quot;xxxx&quot;&gt;</code>有一个属性为<code>class</code>并且他的值为<code>xxxx</code>，所有的这个属性就类似于字典，所以我们可以使用字典的方法操控他们</p>
<p>方法一：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html class='xxxx'>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">[</span><span class="token string">'class'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#['xxxx']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>方法二：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html class='xxxx'>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span> <span class="token comment">#&#123;'class': ['xxxx']&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>他的属性可以<code>添加，修改，删除</code></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html class='xxxx'>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
tag<span class="token punctuation">[</span><span class="token string">'class'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'aaaa'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span> <span class="token comment">#&#123;'class': 'aaaa'&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>多值属性</li>
</ul>
<p>一个属性能够拥有多个值，例如<code>class</code>就很明显，在<code>BeautifulSoup</code>中多值属性返回的是一个列表</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html class='xxxx aaaa'>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token comment"># tag['class'] = 'aaaa'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">[</span><span class="token string">'class'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#['xxxx', 'aaaa']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>但是没有在<code>HTML4 HTML5</code>中定义的属性，虽然看起来是有多个值，但是还是以字符的形式返回</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html class='xxxx aaaa' id='cccc dddd'>A html text&lt;/html>"</span><span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>html
<span class="token comment"># tag['class'] = 'aaaa'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#cccc dddd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>注意：</code>如果转化的是xml格式的，是没有多值属性的</p>
<h5 id="遍历文档树"><a href="#遍历文档树" class="headerlink" title="遍历文档树"></a>遍历文档树</h5><h6 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h6><ul>
<li>tag的名字</li>
</ul>
<p>通过对应的名字来得到想要的标签<code>soup.&lt;name&gt;</code></p>
<p>trick:多次调用这个方法<code>soup.body.p</code></p>
<p>使用点属性(soup.<name>)只能获取第一个标签</p>
<p>获取所有的标签：soup.find_all(‘a’)</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">html_doc <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
&lt;html>&lt;head>&lt;title>The Dormouse's story&lt;/title>&lt;/head>

&lt;p class="title">&lt;b>The Dormouse's story&lt;/b>&lt;/p>

&lt;p class="story">Once upon a time there were three little sisters; and their names were
&lt;a href="http://example.com/elsie" class="sister" id="link1">Elsie&lt;/a>,
&lt;a href="http://example.com/lacie" class="sister" id="link2">Lacie&lt;/a> and
&lt;a href="http://example.com/tillie" class="sister" id="link3">Tillie&lt;/a>;
and they lived at the bottom of a well.&lt;/p>

&lt;p class="story">...&lt;/p>
"""</span>

<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html_doc<span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#[&lt;a class="sister" href="http://example.com/elsie" id="link1">Elsie&lt;/a>, &lt;a class="sister" href="http://example.com/lacie" id="link2">Lacie&lt;/a>, &lt;a class="sister" href="http://example.com/tillie" id="link3">Tillie&lt;/a>]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>.contents .children</code></li>
</ul>
<p><code>.contents</code>属性可以将tag的子节点以列表的形式输出</p>
<p><code>BeautifulSoup</code>对象本身包含有子节点，所以<html>标签也是子节点</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html_doc<span class="token punctuation">,</span> <span class="token string">"html.parser"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token comment">#html</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>字符串没有<code>.contents</code>属性，因为字符串没有子节点</p>
<p>使用<code>.children</code>生成器能够对子节点进行循环</p>
<ul>
<li><code>.descendants</code></li>
</ul>
<p>可以对标签的子孙节点进行递归循环</p>
<h6 id="父节点"><a href="#父节点" class="headerlink" title="父节点"></a>父节点</h6><ul>
<li><code>.parent</code></li>
</ul>
<p>来获取对应标签的父节点</p>
<ul>
<li><code>.parents</code></li>
</ul>
<h6 id="兄弟节点"><a href="#兄弟节点" class="headerlink" title="兄弟节点"></a>兄弟节点</h6><ul>
<li><code>.next_sibling .previous_sibling</code></li>
</ul>
<p>使用这两个属性来查看兄弟节点</p>
<ul>
<li><code>.next_siblings .previous_siblings</code></li>
</ul>
<p>能够迭代输出兄弟节点</p>
<h5 id="搜索文档树"><a href="#搜索文档树" class="headerlink" title="搜索文档树"></a>搜索文档树</h5><ul>
<li>find_all方法</li>
</ul>
<p>1.name参数 <code>soup.find_all(&#39;tag.name&#39;)</code></p>
<p>2.keyword参数 <code>soup.find_all(id=&#39;xxx&#39;)</code></p>
<ul>
<li><p>字符串 <code>soup.find_all(&#39;b&#39;)</code></p>
</li>
<li><p>正则表达式 <code>soup.find_all(re.compile(&#39;b&#39;))</code></p>
</li>
</ul>
<blockquote>
<p>同样可以使用for循环遍历</p>
</blockquote>
<ul>
<li>列表参数 <code>soup.find_all([&#39;a&#39;, &#39;b&#39;])</code></li>
<li>还可以自定义方法来过滤</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">has_class_but_no_id</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> tag<span class="token punctuation">.</span>has_attr<span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> tag<span class="token punctuation">.</span>has_attr<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h5><p><a target="_blank" rel="noopener" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html">bs4库的使用详情戳我</a></p>
<h4 id="提取需要的数据"><a href="#提取需要的数据" class="headerlink" title="提取需要的数据"></a>提取需要的数据</h4><p>使用Chrome浏览器的查看源代码功能</p>
<p>​    </p>
<p><img src="image-20211219132041240.png" alt="image-20211219132041240" loading="lazy"></p>
<p>则可以使用<code>soup.find(&#39;h1&#39;, class_=&#39;post-title&#39;).a.text.strip()</code>来抓取第一个标题信息</p>
<h5 id="爬取豆瓣top250"><a href="#爬取豆瓣top250" class="headerlink" title="爬取豆瓣top250"></a>爬取豆瓣top250</h5><p>打开<code>https://movie.douban.com/top250</code></p>
<p>我们可以发现只有25个电影，我们要找出所有的电影名称，需要抓取10页</p>
<p>点击第二页，发现url的变化</p>
<p><img src="image-20211219141237738.png" alt="image-20211219141237738" loading="lazy"></p>
<p>很明显，第三页就是50</p>
<p>通过查看源代码分析html格式</p>
<p>抓取电影名称：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token keyword">def</span> <span class="token function">GetHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36'</span><span class="token punctuation">&#125;</span>
    url <span class="token operator">=</span> <span class="token string">'https://movie.douban.com/top250'</span>
    movie_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        link <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">'?start='</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>link<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'页的状态码为：'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">'lxml'</span><span class="token punctuation">)</span>
        div_list <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'hd'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> each_div <span class="token keyword">in</span> div_list<span class="token punctuation">:</span>
            movie <span class="token operator">=</span> each_div<span class="token punctuation">.</span>a<span class="token punctuation">.</span>span<span class="token punctuation">.</span>text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
            movie_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>movie<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>movie_list<span class="token punctuation">)</span>
GetHtml<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>抓取英文名：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token keyword">def</span> <span class="token function">GetHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36'</span><span class="token punctuation">&#125;</span>
    url <span class="token operator">=</span> <span class="token string">'https://movie.douban.com/top250'</span>
    <span class="token comment">#movie_list = []</span>
    movie_english <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        link <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">'?start='</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>link<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'页的状态码为：'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">'lxml'</span><span class="token punctuation">)</span>
        div_list <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'hd'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> each_div <span class="token keyword">in</span> div_list<span class="token punctuation">:</span>
            movie <span class="token operator">=</span> each_div<span class="token punctuation">.</span>a<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
            movie_english<span class="token punctuation">.</span>append<span class="token punctuation">(</span>movie<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>movie_english<span class="token punctuation">)</span>
GetHtml<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="爬取动态网站"><a href="#爬取动态网站" class="headerlink" title="爬取动态网站"></a>爬取动态网站</h4><h5 id="解析真实地址"><a href="#解析真实地址" class="headerlink" title="解析真实地址"></a>解析真实地址</h5><p>使用浏览器的<code>network</code>功能找到评论的数据</p>
<p><img src="image-20211219145914949.png" alt="image-20211219145914949" loading="lazy"></p>
<p>就找了真实的地址，利用<code>requests</code>模块爬取他</p>
<p>因为得到的是<code>json</code>数据，我们需要解析他，导入python的<code>json</code>模块</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">GetComment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36'</span><span class="token punctuation">&#125;</span>
    url <span class="token operator">=</span> <span class="token string">'https://api-zero.livere.com/v1/comments/list?callback=jQuery112405243114832128559_1639896855427&amp;limit=10&amp;repSeq=4272904&amp;requestPath=%2Fv1%2Fcomments%2Flist&amp;consumerSeq=1020&amp;livereSeq=28583&amp;smartloginSeq=5154&amp;code=&amp;_=1639896855429'</span>
    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
    json_string <span class="token operator">=</span> res<span class="token punctuation">.</span>text
    <span class="token comment">#json_string = json_string[json_string.find('&#123;'):-2]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>json_string<span class="token punctuation">)</span>
    json_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_string<span class="token punctuation">)</span>
    comment_list <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'results'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'parents'</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> each <span class="token keyword">in</span> comment_list<span class="token punctuation">:</span>
        message <span class="token operator">=</span> each<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token comment">#print(res.text)</span>
GetComment<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="通过Selenium模拟浏览器抓取"><a href="#通过Selenium模拟浏览器抓取" class="headerlink" title="通过Selenium模拟浏览器抓取"></a>通过Selenium模拟浏览器抓取</h5><p>使用selenium需要下载一个浏览器驱动</p>
<ul>
<li>Chrome驱动下载：<a target="_blank" rel="noopener" href="https://chromedriver.storage.googleapis.com/index.html?path=2.35/">点我下载Chrome驱动</a></li>
<li>FireFox驱动下载：<a target="_blank" rel="noopener" href="https://github.com/mozilla/geckodriver/releases">点我下载firefox驱动</a></li>
</ul>
<p>之后放在一个文件夹里面，再将这个文件夹添加进环境变量中就行了</p>
<h4 id="selenium库的使用"><a href="#selenium库的使用" class="headerlink" title="selenium库的使用"></a>selenium库的使用</h4><p><a target="_blank" rel="noopener" href="https://python-selenium-zh.readthedocs.io/zh_CN/latest/">戳这里了解详情</a></p>
<ul>
<li><p>指定链接 <code>driver.get(url)</code></p>
<blockquote>
<p>webdriver会等待页面加载完才会将控制权交给使用者测试，如果ajax使用过多就不能判断是否加载完全，我们可以使用<code>waits</code></p>
</blockquote>
</li>
<li><p>查找元素</p>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>passwd<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>passwd-id<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token comment">&lt;!--我们可以使用下面的方法找到这个input标签--></span>
element = driver.find_element_by_id("passwd-id")
element = driver.find_element_by_name("passwd")
element = driver.find_element_by_xpath("//input[@id='passwd-id']")<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="元素定位"><a href="#元素定位" class="headerlink" title="元素定位"></a>元素定位</h5><h6 id="根据ID定位"><a href="#根据ID定位" class="headerlink" title="根据ID定位"></a>根据ID定位</h6><blockquote>
<p>如果没有元素匹配就会抛出<code>NoSuchElementException</code>异常</p>
</blockquote>
<p>以下html代码</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loginForm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continue<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Login<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>定位表单元素<code>form</code></p>
<p><code>FORM = driver.find_element_by_id(&#39;loginForm&#39;)</code></p>
<h6 id="根据name定位"><a href="#根据name定位" class="headerlink" title="根据name定位"></a>根据name定位</h6><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loginForm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continue<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Login<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continue<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Clear<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>username password</code>元素的定位</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">'usernaem'</span><span class="token punctuation">)</span>
password <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>但是下面这个会返回<code>Login</code>而不是<code>Clear</code></p>
<blockquote>
<p>continue = driver.find_element_by_name(‘continue’)</p>
</blockquote>
<hr>
<p>xpath方式：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loginForm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continue<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Login<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continue<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Clear<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>form</code>元素的定位</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#绝对路径</span>
login_form <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"/html/body/form[1]"</span><span class="token punctuation">)</span>
<span class="token comment">#HTML第一个form元素</span>
login_form <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//form[1]"</span><span class="token punctuation">)</span>
<span class="token comment">#id属性为特定值的form元素</span>
login_form <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//form[@id='loginForm']"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>username</code>元素定位</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#第一个form元素的name属性是username的input子元素</span>
username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//form[input/@name='username']"</span><span class="token punctuation">)</span>
<span class="token comment">#id属性值为特定值的form元素的第一个input子元素</span>
username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//form[@id='loginForm']/input[1]"</span><span class="token punctuation">)</span>
<span class="token comment">#name属性为username的第一个input元素</span>
username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//input[@name='username']"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>clear</code>按钮的定位</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#type属性值为button并且name属性值为continue</span>
clear_button <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//input[@name='continue'][@type='button']"</span><span class="token punctuation">)</span>
<span class="token comment">#id为特定值的form表单的第四个input子元素</span>
clear_button <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//form[@id='loginForm']/input[4]"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<h6 id="用链接文本定位超链接"><a href="#用链接文本定位超链接" class="headerlink" title="用链接文本定位超链接"></a>用链接文本定位超链接</h6><blockquote>
<p>如果知道锚标签使用了什么文本</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Are you sure you want to do this?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continue.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Continue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cancel.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Cancel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>定位超链接</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">link <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span><span class="token string">"continue"</span><span class="token punctuation">)</span>
link <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_partial_link_text<span class="token punctuation">(</span><span class="token string">'Conti'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h6 id="标签名定位"><a href="#标签名定位" class="headerlink" title="标签名定位"></a>标签名定位</h6><blockquote>
<p>heading = driver.find_element_by_tag_name(‘h1’)</p>
</blockquote>
<h6 id="class名定位"><a href="#class名定位" class="headerlink" title="class名定位"></a>class名定位</h6><blockquote>
<p>content = driver.find_element_by_class_name(‘class_name’)</p>
</blockquote>
<h6 id="css定位"><a href="#css定位" class="headerlink" title="css定位"></a>css定位</h6><blockquote>
<p>content = driver.find_element_by_css_selector(‘css’)</p>
</blockquote>
<h5 id="等待事件"><a href="#等待事件" class="headerlink" title="等待事件"></a>等待事件</h5><blockquote>
<p>广泛运用ajax技术，使得浏览器在访问一个页面的时候DOM中的元素是在不同的时间载入的。在定位元素的时候容易出现元素不在DOM中抛出<code>ElementNotVisibleException</code>异常。我们使用<code>waits</code>解决这个问题</p>
</blockquote>
<h6 id="显示waits"><a href="#显示waits" class="headerlink" title="显示waits"></a>显示waits</h6><blockquote>
<p>等待一个确定的事件触发之后在进行下一个操作</p>
</blockquote>
<p><code>expected_conditions</code>模块包含了一系列预定义的条件来和WebDriverWait使用</p>
<p><code>from selenium.webdriver.support import expected_conditions as EC</code></p>
<h6 id="隐式waits"><a href="#隐式waits" class="headerlink" title="隐式waits"></a>隐式waits</h6><blockquote>
<p>当我们要找一个或者一些不能立即可用的元素的时候，隐式<code>waits</code>会告诉WebDriver轮询DOM指定的次数，默认设置是0次。一旦设定，WebDriver对象实例的整个生命周期的隐式调用也就设定好了。</p>
</blockquote>
<p><code>driver.implicitly_wait(10) # seconds</code></p>
<h5 id="行为链"><a href="#行为链" class="headerlink" title="行为链"></a>行为链</h5><blockquote>
<p>类：class selenium.webdriver.common.action_chains.ActionChains(driver)</p>
</blockquote>
<p><code>ActionChains</code>可以完成简单的交互行为，例如鼠标移动，鼠标点击事件，键盘输入，以及内容菜单交互。这对于模拟那些复杂的类似于鼠标悬停和拖拽行为很有用</p>
<p><code>ActionChains</code>可以使用链式模型:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">menu <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">".nav"</span><span class="token punctuation">)</span>
hidden_submenu <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">".nav #submenu1"</span><span class="token punctuation">)</span>

ActionChains<span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">.</span>move_to_element<span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span>hidden_submenu<span class="token punctuation">)</span><span class="token punctuation">.</span>perform<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>也可以一个个排队，然后执行:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">menu <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">".nav"</span><span class="token punctuation">)</span>
hidden_submenu <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">".nav #submenu1"</span><span class="token punctuation">)</span>

actions <span class="token operator">=</span> ActionChains<span class="token punctuation">(</span>driver<span class="token punctuation">)</span>
actions<span class="token punctuation">.</span>move_to_element<span class="token punctuation">(</span>menu<span class="token punctuation">)</span>
actions<span class="token punctuation">.</span>click<span class="token punctuation">(</span>hidden_submenu<span class="token punctuation">)</span>
action<span class="token punctuation">.</span>perform<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>click(on_element=None)</p>
<blockquote>
<p><code>on_element</code>是点击的元素，如果是<code>None</code>,点击鼠标当前的位置</p>
</blockquote>
</li>
<li><p>click_and_hold(on_element=None)</p>
<blockquote>
<p>鼠标左键点击元素并保持</p>
</blockquote>
</li>
<li><p>double_click(on_element=None)</p>
<blockquote>
<p>双击一个元素</p>
</blockquote>
</li>
<li><p>drag_and_drop(source, target)</p>
</li>
</ul>
<blockquote>
<p>鼠标左键点击<code>source</code>元素，然后移动到<code>target</code>元素释放鼠标按键</p>
</blockquote>
<ul>
<li>drag_and_drop_by_offset(source, xoffset,yoffset)</li>
</ul>
<blockquote>
<p>拖拽目标元素到指定的偏移点释放</p>
</blockquote>
<ul>
<li>key_down(value,element=None)</li>
</ul>
<blockquote>
<p>只按下键盘，不释放。我们应该只对那些功能键使用(Contril,Alt,Shift)</p>
<p>参数： <em>value：要发送的键，值在<code>Keys</code>类里有定义</em> element:发送的目标元素，如果是<code>None</code>，value会发到当前聚焦的元素上</p>
</blockquote>
<ul>
<li>key_up(value,element=None)</li>
</ul>
<blockquote>
<p>释放键</p>
</blockquote>
<ul>
<li>move_by_offset(xoffset,yoffset)</li>
</ul>
<blockquote>
<p>将当前鼠标的位置进行移动</p>
</blockquote>
<ul>
<li><p>move_to_element(to_element)</p>
<blockquote>
<p>把鼠标移到一个元素的中间</p>
</blockquote>
</li>
<li><p>perform()</p>
</li>
</ul>
<blockquote>
<p>执行所有存储的动作</p>
</blockquote>
<ul>
<li><p>release(on_element=None)</p>
<blockquote>
<p>释放一个元素上的鼠标按键</p>
</blockquote>
</li>
<li><p>send_keys(*keys_to_send)</p>
</li>
</ul>
<blockquote>
<p>向当前的焦点元素发送键</p>
</blockquote>
<ul>
<li>send_keys_to_element(element,*keys_to_send)</li>
</ul>
<blockquote>
<p>向指定的元素发送键</p>
</blockquote>
<h5 id="警告框"><a href="#警告框" class="headerlink" title="警告框"></a>警告框</h5><blockquote>
<p>class selenium.webdriver.common.alert.Alert(driver)</p>
</blockquote>
<ul>
<li><p>接受和忽略弹框：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">Alert<span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
Alert<span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">.</span>dismiss<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>prompt里输入字符:</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">name_prompt <span class="token operator">=</span> Alert<span class="token punctuation">(</span>driver<span class="token punctuation">)</span>
name_prompt<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">"Willian Shakephere"</span><span class="token punctuation">)</span>
name_prompt<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>读取prompt的提示字符：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">alert_text <span class="token operator">=</span> Alert<span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">.</span>text
self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token string">"Do you wish to quit?"</span>，alert_text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>accept()</p>
<blockquote>
<p>确认提示框</p>
<p>Alert(driver).accept()</p>
</blockquote>
</li>
<li><p>authenticate(username,password)</p>
</li>
</ul>
<blockquote>
<p>向一个认证的对话框发送用户名和密码，会自动点击确认</p>
<p>driver.switch_to.alert.authenticate(‘cheese’,’secretGouda’)</p>
</blockquote>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/B01E5F9A0F70645FFD7D980FB6243619.jpg"><img loading="lazy" src="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/B01E5F9A0F70645FFD7D980FB6243619.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/D4AD9FA7BDA95604D2919F414577B0BA.png"><img loading="lazy" src="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/D4AD9FA7BDA95604D2919F414577B0BA.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/E8775427D2C8BC65C9AC73AE4CE5A3D8.jpg"><img loading="lazy" src="https://my-wsl.oss-cn-chengdu.aliyuncs.com/imgs/E8775427D2C8BC65C9AC73AE4CE5A3D8.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>RoboTerh</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/" title="Python爬虫(一)">https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul><script>document.addEventListener('copy', function (event) {
  const clipboardData = event.clipboardData || window.clipboardData;
  if (!clipboardData) { return; }
  const text = window.getSelection().toString();
  if (text) {
    event.preventDefault();
    clipboardData.setData('text/plain', text + '\n\nPost author: RoboTerh\nPost link: https://roboterh.github.io/2021/12/17/Python%E7%88%AC%E8%99%AB-%E4%B8%80/\nCopyright Notice: All articles in this blog are licensed under CC BY-NC-SA 4.0 unless otherwise stated.');
  }
});</script></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/12/19/Python%E7%88%AC%E8%99%AB-%E4%BA%8C/" rel="prev" title="Python爬虫(二)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Python爬虫(二)</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/12/14/Python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%9F%BA%E7%A1%80detail/" rel="next" title="Python学习之基础detail"><span class="post-nav-text">Python学习之基础detail</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> RoboTerh</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.7.0</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>